# ===========================================
# LongBridge 量化交易系统环境变量配置示例
# ===========================================
# 说明：
# 1. 复制此文件为 .env.local 并填写实际配置值
# 2. 配置必须使用索引后缀（_1, _2, ...），即使只有一个监控标的也必须使用 _1 后缀
# 3. 必须设置 MONITOR_COUNT 环境变量，值为监控标的的数量（>= 1）
# ===========================================

# ===========================================
# API 配置（必需）
# ===========================================
# LongPort API 凭证，从开发者中心获取
# https://open.longport.com/
LONGPORT_APP_KEY=your_app_key_here
LONGPORT_APP_SECRET=your_app_secret_here
LONGPORT_ACCESS_TOKEN=your_access_token_here

# API 区域配置（可选，默认 'hk'）
# 'cn' = 中国大陆区域（使用 .cn 域名）
# 'hk' = 香港及其他地区（使用 .com 域名）
LONGPORT_REGION=cn

# ===========================================
# SonarQube Configuration
# ===========================================
SONAR_ORGANIZATION=SONAR_ORGANIZATION
SONAR_TOKEN=SONAR_TOKEN

# ===========================================
# 全局配置
# ===========================================
# 监控标的数量（必需，必须 >= 1）
# 即使只有一个监控标的，也必须设置为 1 并使用 _1 后缀的配置
MONITOR_COUNT=1

# 末日保护（全局，可选，默认 true）
# 收盘前15分钟拒绝买入，收盘前5分钟自动清仓
DOOMSDAY_PROTECTION=true

# 调试模式（全局，可选，默认 false）
DEBUG=false

# ===========================================
# 单标的配置示例（必须使用 _1 后缀）
# ===========================================
# 监控标的（必需）
# 用于监控技术指标并生成交易信号的标的（如恒生指数）
MONITOR_SYMBOL_1=HSI.HK

# 交易标的
# 做多标的（做多标的为做多该监控标的方向的交易标的，一般为认购证或牛证）
LONG_SYMBOL_1=61001  
# 做空标的（做空标的为做空该监控标的方向的交易标的，一般为认沽证或熊证）  
SHORT_SYMBOL_1=53486  

# 交易参数
# 每次买入金额（HKD）
TARGET_NOTIONAL_1=10000  
# 最少做多每手股数（可选）    
LONG_LOT_SIZE_1=100  
# 最少做空每手股数（可选）        
SHORT_LOT_SIZE_1=100   
# 买入间隔时间（秒，范围 10-600，默认 60）      
BUY_INTERVAL_SECONDS_1=90    

# 风控参数
# 单标持仓上限（HKD）
MAX_POSITION_NOTIONAL_1=10000  
# 单日亏损上限（HKD，0 表示不限制）          
MAX_DAILY_LOSS_1=3000         
# 保护性清仓阈值（HKD，0 表示不启用）           
MAX_UNREALIZED_LOSS_PER_SYMBOL_1=5000         

# 信号配置（格式说明见 README.md）
# 买入做多信号
SIGNAL_BUYCALL_1=(RSI:6<25,MFI<20,D<25,J<0)/3|(J<-20)
# 卖出做多信号
SIGNAL_SELLCALL_1=(RSI:6>75,MFI>80,D>75,J>100)/3|(J>110)
# 买入做空信号
SIGNAL_BUYPUT_1=(RSI:6>75,MFI>80,D>75,J>100)/3|(J>120)
# 卖出做空信号
SIGNAL_SELLPUT_1=(RSI:6<25,MFI<20,D<25,J<0)/3|(J<-20)

# 验证配置
# 买入延迟验证
# 延迟验证时间（秒，范围 0-120，默认 60）
VERIFICATION_DELAY_SECONDS_BUY_1=90  
# 验证指标（可选，逗号分隔，如：K,D,J,MACD,DIF,DEA,EMA:5）      
VERIFICATION_INDICATORS_BUY_1=D,EMA:5  

# 卖出延迟验证
# 延迟验证时间（秒，范围 0-120，默认 60）
VERIFICATION_DELAY_SECONDS_SELL_1=75  
# 验证指标（可选，逗号分隔）     
VERIFICATION_INDICATORS_SELL_1=K       

# ===========================================
# 多标的配置示例
# ===========================================
# 如果需要配置多个监控标的，请：
# 1. 设置 MONITOR_COUNT=2（或更多）
# 2. 为每个监控标的配置相应的环境变量（使用 _1, _2, ... 后缀）
# 3. 取消注释并填写以下第二个监控标的的配置示例

# MONITOR_COUNT=2

# ---------- 监控标的 2 ----------
# MONITOR_SYMBOL_2=02318.HK
# LONG_SYMBOL_2=61234
# SHORT_SYMBOL_2=54321
# TARGET_NOTIONAL_2=15000
# LONG_LOT_SIZE_2=100
# SHORT_LOT_SIZE_2=100
# MAX_POSITION_NOTIONAL_2=150000
# MAX_DAILY_LOSS_2=5000
# MAX_UNREALIZED_LOSS_PER_SYMBOL_2=8000
# BUY_INTERVAL_SECONDS_2=120
# SIGNAL_BUYCALL_2=(RSI:14<30,MFI<20,D<30)/2
# SIGNAL_SELLCALL_2=(RSI:14>70,MFI>80,D>70)/2
# SIGNAL_BUYPUT_2=(RSI:14>70,MFI>80,D>70)/2
# SIGNAL_SELLPUT_2=(RSI:14<30,MFI<20,D<30)/2
# VERIFICATION_DELAY_SECONDS_BUY_2=60
# VERIFICATION_INDICATORS_BUY_2=K,J
# VERIFICATION_DELAY_SECONDS_SELL_2=60
# VERIFICATION_INDICATORS_SELL_2=D,DIF
